<!doctype html><html lang=en-us><head><script type=application/ld+json>{"@context":"http://schema.org","@type":"Website","@id":"https:\/\/www.andymcdonald.scot\/","author":{"@type":"Person","name":"Andy McDonald","image":"https://www.andymcdonald.scot/images/andy2.png"},"name":"Andy McDonald","description":"Exploratory Data Analysis (EDA) is an integral part of Data Science. The same is true for the petrophysical domain and can often be referred to as the Log QC or data review stage of a project. It is at this stage that we begin to go through the data in detail and identify what data we really have, where we have it and what is the quality of the gathered data.","url":"https:\/\/www.andymcdonald.scot\/blog\/2020\/2020-10-26-visualising-well-data-coverage-using-matplotlib\/","keywords":"[]"}</script><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta http-equiv=x-ua-compatible content="IE=edge"><meta name=generator content="Hugo 0.98.0 with theme Tranquilpeak 0.5.3-BETA"><meta name=author content="Andy McDonald"><meta name=keywords content><meta name=description content="Exploratory Data Analysis (EDA) is an integral part of Data Science. The same is true for the petrophysical domain and can often be referred to as the Log QC or data review stage of a project. It is at this stage that we begin to go through the data in detail and identify what data we really have, where we have it and what is the quality of the gathered data."><meta property="og:description" content="Exploratory Data Analysis (EDA) is an integral part of Data Science. The same is true for the petrophysical domain and can often be referred to as the Log QC or data review stage of a project. It is at this stage that we begin to go through the data in detail and identify what data we really have, where we have it and what is the quality of the gathered data."><meta property="og:type" content="article"><meta property="og:title" content="Visualising Well Data Coverage Using matplotlib"><meta name=twitter:title content="Visualising Well Data Coverage Using matplotlib"><meta property="og:url" content="https://www.andymcdonald.scot/blog/2020/2020-10-26-visualising-well-data-coverage-using-matplotlib/"><meta property="twitter:url" content="https://www.andymcdonald.scot/blog/2020/2020-10-26-visualising-well-data-coverage-using-matplotlib/"><meta property="og:site_name" content="Andy McDonald"><meta property="og:description" content="Exploratory Data Analysis (EDA) is an integral part of Data Science. The same is true for the petrophysical domain and can often be referred to as the Log QC or data review stage of a project. It is at this stage that we begin to go through the data in detail and identify what data we really have, where we have it and what is the quality of the gathered data."><meta name=twitter:description content="Exploratory Data Analysis (EDA) is an integral part of Data Science. The same is true for the petrophysical domain and can often be referred to as the Log QC or data review stage of a project. It is at this stage that we begin to go through the data in detail and identify what data we really have, where we have it and what is the quality of the gathered data."><meta property="og:locale" content="en-us"><meta property="article:published_time" content="2020-10-26T00:00:00"><meta property="article:modified_time" content="2020-10-26T00:00:00"><meta property="article:section" content="Petrophysics"><meta property="article:section" content="Python"><meta property="article:section" content="Data Quality"><meta property="article:tag" content="petrophysics"><meta property="article:tag" content="python"><meta property="article:tag" content="matplotlib"><meta property="article:tag" content="missing data"><meta name=twitter:card content="summary"><meta property="og:image" content="https://www.andymcdonald.scot/images/andy2.png"><meta property="twitter:image" content="https://www.andymcdonald.scot/images/andy2.png"><title>Visualising Well Data Coverage Using matplotlib</title><link rel=icon href=https://www.andymcdonald.scot/favicon.png><link rel=canonical href=https://www.andymcdonald.scot/blog/2020/2020-10-26-visualising-well-data-coverage-using-matplotlib/><link rel=stylesheet href=https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/all.min.css integrity="sha512-iBBXm8fW90+nuLcSKlbmrPcLa0OT92xO1BIsZ+ywDWZCvqsWgccV3gFoRBv0z+8dLJgyAHIhR35VZc2oM/gI1w==" crossorigin=anonymous referrerpolicy=no-referrer><link rel=stylesheet href=https://cdnjs.cloudflare.com/ajax/libs/fancybox/3.5.7/jquery.fancybox.min.css integrity="sha512-H9jrZiiopUdsLpg94A333EfumgUBpO9MdbxStdeITo+KEIMaNfHNvwyjjDJb+ERPaRS6DpyRlKbvPUasNItRyw==" crossorigin=anonymous referrerpolicy=no-referrer><link rel=stylesheet href=https://www.andymcdonald.scot/css/style-h6ccsoet3mzkbb0wngshlfbaweimexgqcxj0h5hu4h82olsdzz6wmqdkajm.min.css></head><body><div id=blog><header id=header data-behavior=2><i id=btn-open-sidebar class="fa fa-lg fa-bars"></i><div class=header-title><a class=header-title-link href=https://www.andymcdonald.scot/ aria-label="Go to homepage">Andy McDonald</a></div><a class=header-right-picture href=https://www.andymcdonald.scot/#about aria-label="Open the link: /#about"><img class=header-picture src=https://www.andymcdonald.scot/images/andy2.png alt="Author's picture"></a></header><nav id=sidebar data-behavior=2><div class=sidebar-container><div class=sidebar-profile><a href=https://www.andymcdonald.scot/#about aria-label="Read more about the author"><img class=sidebar-profile-picture src=https://www.andymcdonald.scot/images/andy2.png alt="Author's picture"></a><h4 class=sidebar-profile-name>Andy McDonald</h4><h5 class=sidebar-profile-bio>Super bio with markdown support <strong>COOL</strong></h5></div><ul class=sidebar-buttons><li class=sidebar-button><a class=sidebar-button-link href=https://www.andymcdonald.scot/ title=Home><i class="sidebar-button-icon fas fa-lg fa-home" aria-hidden=true></i>
<span class=sidebar-button-desc>Home</span></a></li><li class=sidebar-button><a class=sidebar-button-link href=https://www.andymcdonald.scot/about title=About><i class="sidebar-button-icon fas fa-lg fa-question" aria-hidden=true></i>
<span class=sidebar-button-desc>About</span></a></li><li class=sidebar-button><a class=sidebar-button-link href=https://www.andymcdonald.scot/blog title=Blog><i class="sidebar-button-icon fas fa-lg fa-server" aria-hidden=true></i>
<span class=sidebar-button-desc>Blog</span></a></li><li class=sidebar-button><a class=sidebar-button-link href=https://www.andymcdonald.scot/published_work title=Publications><i class="sidebar-button-icon fas fa-lg fa-book" aria-hidden=true></i>
<span class=sidebar-button-desc>Publications</span></a></li><li class=sidebar-button><a class=sidebar-button-link href=https://www.andymcdonald.scot/categories title=Categories><i class="sidebar-button-icon fas fa-lg fa-bookmark" aria-hidden=true></i>
<span class=sidebar-button-desc>Categories</span></a></li><li class=sidebar-button><a class=sidebar-button-link href=https://www.andymcdonald.scot/tags title=Tags><i class="sidebar-button-icon fas fa-lg fa-tags" aria-hidden=true></i>
<span class=sidebar-button-desc>Tags</span></a></li></ul><ul class=sidebar-buttons><li class=sidebar-button><a class=sidebar-button-link href=https://github.com/andymcdgeo target=_blank rel=noopener title=GitHub><i class="sidebar-button-icon fab fa-lg fa-github" aria-hidden=true></i>
<span class=sidebar-button-desc>GitHub</span></a></li><li class=sidebar-button><a class=sidebar-button-link href=https://www.linkedin.com/in/andymcdonaldgeo/ target=_blank rel=noopener title=LinkedIn><i class="sidebar-button-icon fab fa-lg fa-linkedin" aria-hidden=true></i>
<span class=sidebar-button-desc>LinkedIn</span></a></li><li class=sidebar-button><a class=sidebar-button-link href=https://medium.com/@andymcdonaldgeo target=_blank rel=noopener title=Medium><i class="sidebar-button-icon fab fa-lg fa-medium" aria-hidden=true></i>
<span class=sidebar-button-desc>Medium</span></a></li><li class=sidebar-button><a class=sidebar-button-link href=https://www.youtube.com/c/AndyMcDonald42 target=_blank rel=noopener title=YouTube><i class="sidebar-button-icon fab fa-lg fa-youtube" aria-hidden=true></i>
<span class=sidebar-button-desc>YouTube</span></a></li></ul><ul class=sidebar-buttons><li class=sidebar-button><a class=sidebar-button-link href=https://www.andymcdonald.scot/index.xml title=RSS><i class="sidebar-button-icon fas fa-lg fa-rss" aria-hidden=true></i>
<span class=sidebar-button-desc>RSS</span></a></li></ul></div></nav><div id=main data-behavior=2 class=hasCoverMetaIn><article class=post id=top><div class="post-header main-content-wrap text-left"><h1 class=post-title>Visualising Well Data Coverage Using matplotlib</h1><div class="postShorten-meta post-meta"><time datetime=2020-10-26T00:00:00Z>October 26, 2020</time>
<span>in</span>
<a class=category-link href=https://www.andymcdonald.scot/categories/petrophysics>Petrophysics</a>,
<a class=category-link href=https://www.andymcdonald.scot/categories/python>Python</a>,
<a class=category-link href=https://www.andymcdonald.scot/categories/data-quality>Data Quality</a></div></div><div class="post-content markdown"><div class=main-content-wrap><p>Exploratory Data Analysis (EDA) is an integral part of Data Science. The same is true for the petrophysical domain and can often be referred to as the Log QC or data review stage of a project. It is at this stage that we begin to go through the data in detail and identify what data we really have, where we have it and what is the quality of the gathered data.</p><p>A significant portion of the time that we spend (in some cases up to 90%! â€” Kohlleffel, 2015) working with well log data is spent trying to understand it and wrangle it into a state that is fit for interpretation. The remaining 10% is when we can get down to the business of carrying out the petrophysical interpretation. This can vary depending on the initial state of the project being worked on.</p><p>At the QC stage, we often we find ourselves with multiple input files, random curve names, missing data and extra curves that have no immediate use. This can lead to confusion and frustration, especially when working with multiple tools and vintage datasets. In cases where we have missing data, we need to identify it and determine the best way to handle it. This can be difficult to do by looking at single LAS files in a text editor, but it can be made easier using software. One such method is by using Python, a common and popular programming language.</p><p>In this short article, we will go over how to visualise data coverage within 3 wells of the Volve dataset that was released by Equinor in 2018.</p><p>You can find the full Jupyter Notebook for this example within 9 **â€” Visualising Data Covere.ipynb **of my <strong>Petrophysics and Python Series</strong> on GitHub at the following link:
<a href=https://github.com/andymcdgeo/Petrophysics-Python-Series/><strong>andymcdgeo/Petrophysics-Python-Series</strong>
*This series of Jupyter Notebooks take you through various aspects of working with Python and Petrophysical data.*github.com</a></p><h2 id=loading-the-data-and-libraries>Loading the Data and Libraries</h2><p>As with any Python project we need to load in the required data and libraries. For this article, we will be using pandas and matplotlib.</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style=display:flex><span>    <span style=color:#f92672>import</span> pandas <span style=color:#66d9ef>as</span> pd
</span></span><span style=display:flex><span>    <span style=color:#f92672>import</span> matplotlib.pyplot <span style=color:#66d9ef>as</span> plt
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#75715e># Load in our data from a CSV file</span>
</span></span><span style=display:flex><span>    data <span style=color:#f92672>=</span> pd<span style=color:#f92672>.</span>read_csv(<span style=color:#e6db74>&#39;Data/VolveWells.csv&#39;</span>)
</span></span><span style=display:flex><span>    data<span style=color:#f92672>.</span>head()
</span></span></code></pre></div><p>This will return:</p><p><img src=https://cdn-images-1.medium.com/max/2000/1*piwz8YmmO9KijT-3pJhiCw.png alt></p><p>From a first glance, we can see that we have 12 columns in our dataset. The first column is the Well, followed by the Depth curve, which is subsequently followed by each of the logging curves.</p><p>To identify what wells we have in our dataset we could call data[&lsquo;WELL&rsquo;].unique() which will return an array, but we can get a nicer format by implementing a short for loop and printing out each value.</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style=display:flex><span>    <span style=color:#66d9ef>for</span> well <span style=color:#f92672>in</span> data[<span style=color:#960050;background-color:#1e0010>â€˜</span>WELL<span style=color:#960050;background-color:#1e0010>â€™</span>]<span style=color:#f92672>.</span>unique():
</span></span><span style=display:flex><span>        print(well)
</span></span></code></pre></div><p>This will return a list of 3 wells:</p><ul><li><p>15/9-F-1 C</p></li><li><p>15/9-F-4</p></li><li><p>15/9-F-7</p></li></ul><h2 id=data-preparation>Data Preparation</h2><p>In order for our plot to work as intended, we need to modify the column order of our dataset. This can be achieved by first creating a list of the columns in the order that we want.</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style=display:flex><span>    plot_cols <span style=color:#f92672>=</span> [<span style=color:#e6db74>&#39;WELL&#39;</span>, <span style=color:#e6db74>&#39;DEPTH&#39;</span>, <span style=color:#e6db74>&#39;CALI&#39;</span>, <span style=color:#e6db74>&#39;BS&#39;</span>, <span style=color:#e6db74>&#39;GR&#39;</span>, <span style=color:#e6db74>&#39;NEU&#39;</span>, <span style=color:#e6db74>&#39;DEN&#39;</span>, <span style=color:#e6db74>&#39;PEF&#39;</span>, <span style=color:#e6db74>&#39;RDEP&#39;</span>, <span style=color:#e6db74>&#39;RMED&#39;</span>, <span style=color:#e6db74>&#39;AC&#39;</span>, <span style=color:#e6db74>&#39;ACS&#39;</span>]
</span></span></code></pre></div><p>Then we can replace the existing dataframe with the new column order:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style=display:flex><span>    data <span style=color:#f92672>=</span> data[plot_cols]
</span></span><span style=display:flex><span>    data<span style=color:#f92672>.</span>head()
</span></span></code></pre></div><p>We can then call upon data.head() to view the new dataframe.</p><p><img src=https://cdn-images-1.medium.com/max/2190/1*WiIJUSbGLKtetpSl0UMdVw.png alt></p><p>The next step involves creating a copy of our dataframe. This will allow us to keep the original dataframe for further work later in a project.</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style=display:flex><span>    data_nan <span style=color:#f92672>=</span> data<span style=color:#f92672>.</span>copy()
</span></span></code></pre></div><p>In order for the plot to display as intended, we need to replace the values in the dataframe.</p><p>In places where we have a real value we will assign it a number which will be dependent on its position in the dataframe. In places where we have a NaN (Not a Number) value, we are going to give it a value of number - 1. This will allow us to shade between one number and another whilst using a single subplot for each well. This keeps things simple and negates the need for creating subplots for each curve in each well.</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style=display:flex><span>    <span style=color:#66d9ef>for</span> num, col <span style=color:#f92672>in</span> enumerate(data_nan<span style=color:#f92672>.</span>columns[<span style=color:#ae81ff>2</span>:]):
</span></span><span style=display:flex><span>        data_nan[col] <span style=color:#f92672>=</span> data_nan[col]<span style=color:#f92672>.</span>notnull() <span style=color:#f92672>*</span> (num <span style=color:#f92672>+</span> <span style=color:#ae81ff>1</span>)
</span></span><span style=display:flex><span>        data_nan[col]<span style=color:#f92672>.</span>replace(<span style=color:#ae81ff>0</span>, num, inplace<span style=color:#f92672>=</span><span style=color:#66d9ef>True</span>)
</span></span></code></pre></div><p>Breaking down the above piece of code:</p><ul><li><p><code>for num, col in enumerate(data_nan.columns[2:]:</code>
This line is going to loop through each column from column number 2 onwards.
enumerate() allows us to create a counter/index value as we loop through each column</p></li><li><p><code>data_nan[col] = data_nan[col].notnull()*(num+1)</code>
Here we are converting the real values to a boolean (True or False). This is then converted to the column number plus 1 when true. When it is false, the values will be set to 0.</p></li><li><p><code>data_nan[col].replace(0, num, inplace=True)</code>
We can now replace any 0 values with the column number.</p></li></ul><h2 id=plotting-the-data>Plotting the Data</h2><p>Now we have come to the plotting stage. In order for each well to plot in a separate subplot, we have to group the dataframe by the well name:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style=display:flex><span>    grouped <span style=color:#f92672>=</span> data_nan<span style=color:#f92672>.</span>groupby(<span style=color:#e6db74>&#39;WELL&#39;</span>)
</span></span></code></pre></div><p>To plot the data we can call upon this short piece of code. I have added short comments to describe what each part is doing.</p><p>We use <code>ax.fillbetweenx()</code> to fill between our two values for each curve that we set up earlier. For example, CALI has two values to indicate data presence: 1 when there is a real value and 0 when there is a NaN. Similarly, GR has two values: 3 when there is real data and 2 when there is a NaN.</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style=display:flex><span>    <span style=color:#75715e>#Setup the labels we want to display on the x-axis</span>
</span></span><span style=display:flex><span>    labels <span style=color:#f92672>=</span> [<span style=color:#e6db74>&#39;CALI&#39;</span>, <span style=color:#e6db74>&#39;BS&#39;</span>, <span style=color:#e6db74>&#39;GR&#39;</span>, <span style=color:#e6db74>&#39;NEU&#39;</span>, <span style=color:#e6db74>&#39;DEN&#39;</span>, <span style=color:#e6db74>&#39;PEF&#39;</span>, <span style=color:#e6db74>&#39;RDEP&#39;</span>, <span style=color:#e6db74>&#39;RMED&#39;</span>, <span style=color:#e6db74>&#39;AC&#39;</span>, <span style=color:#e6db74>&#39;ACS&#39;</span>]
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#75715e>#Setup the figure and the subplots</span>
</span></span><span style=display:flex><span>    fig, axs <span style=color:#f92672>=</span> plt<span style=color:#f92672>.</span>subplots(<span style=color:#ae81ff>1</span>, <span style=color:#ae81ff>3</span>, figsize<span style=color:#f92672>=</span>(<span style=color:#ae81ff>20</span>,<span style=color:#ae81ff>10</span>))
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#75715e>#Loop through each well and column in the grouped dataframe</span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>for</span> (name, df), ax <span style=color:#f92672>in</span> zip(grouped, axs<span style=color:#f92672>.</span>flat):
</span></span><span style=display:flex><span>        ax<span style=color:#f92672>.</span>set_xlim(<span style=color:#ae81ff>0</span>,<span style=color:#ae81ff>9</span>)
</span></span><span style=display:flex><span>        
</span></span><span style=display:flex><span>        <span style=color:#75715e>#Setup the depth range</span>
</span></span><span style=display:flex><span>        ax<span style=color:#f92672>.</span>set_ylim(<span style=color:#ae81ff>5000</span>, <span style=color:#ae81ff>0</span>)
</span></span><span style=display:flex><span>        
</span></span><span style=display:flex><span>        <span style=color:#75715e>#Create multiple fill betweens for each curve# This is between</span>
</span></span><span style=display:flex><span>        <span style=color:#75715e># the number representing null values and the number representing</span>
</span></span><span style=display:flex><span>        <span style=color:#75715e># actual values</span>
</span></span><span style=display:flex><span>        
</span></span><span style=display:flex><span>        ax<span style=color:#f92672>.</span>fill_betweenx(df<span style=color:#f92672>.</span>DEPTH, <span style=color:#ae81ff>0</span>, df<span style=color:#f92672>.</span>CALI, facecolor<span style=color:#f92672>=</span><span style=color:#e6db74>&#39;grey&#39;</span>)
</span></span><span style=display:flex><span>        ax<span style=color:#f92672>.</span>fill_betweenx(df<span style=color:#f92672>.</span>DEPTH, <span style=color:#ae81ff>1</span>, df<span style=color:#f92672>.</span>BS, facecolor<span style=color:#f92672>=</span><span style=color:#e6db74>&#39;lightgrey&#39;</span>)
</span></span><span style=display:flex><span>        ax<span style=color:#f92672>.</span>fill_betweenx(df<span style=color:#f92672>.</span>DEPTH, <span style=color:#ae81ff>2</span>, df<span style=color:#f92672>.</span>GR, facecolor<span style=color:#f92672>=</span><span style=color:#e6db74>&#39;mediumseagreen&#39;</span>)
</span></span><span style=display:flex><span>        ax<span style=color:#f92672>.</span>fill_betweenx(df<span style=color:#f92672>.</span>DEPTH, <span style=color:#ae81ff>3</span>, df<span style=color:#f92672>.</span>NEU, facecolor<span style=color:#f92672>=</span><span style=color:#e6db74>&#39;lightblue&#39;</span>)
</span></span><span style=display:flex><span>        ax<span style=color:#f92672>.</span>fill_betweenx(df<span style=color:#f92672>.</span>DEPTH, <span style=color:#ae81ff>4</span>, df<span style=color:#f92672>.</span>DEN, facecolor<span style=color:#f92672>=</span><span style=color:#e6db74>&#39;lightcoral&#39;</span>)
</span></span><span style=display:flex><span>        ax<span style=color:#f92672>.</span>fill_betweenx(df<span style=color:#f92672>.</span>DEPTH, <span style=color:#ae81ff>5</span>, df<span style=color:#f92672>.</span>PEF, facecolor<span style=color:#f92672>=</span><span style=color:#e6db74>&#39;violet&#39;</span>)
</span></span><span style=display:flex><span>        ax<span style=color:#f92672>.</span>fill_betweenx(df<span style=color:#f92672>.</span>DEPTH, <span style=color:#ae81ff>6</span>, df<span style=color:#f92672>.</span>RDEP, facecolor<span style=color:#f92672>=</span><span style=color:#e6db74>&#39;darksalmon&#39;</span>)
</span></span><span style=display:flex><span>        ax<span style=color:#f92672>.</span>fill_betweenx(df<span style=color:#f92672>.</span>DEPTH, <span style=color:#ae81ff>7</span>, df<span style=color:#f92672>.</span>RMED, facecolor<span style=color:#f92672>=</span><span style=color:#e6db74>&#39;wheat&#39;</span>)
</span></span><span style=display:flex><span>        ax<span style=color:#f92672>.</span>fill_betweenx(df<span style=color:#f92672>.</span>DEPTH, <span style=color:#ae81ff>8</span>, df<span style=color:#f92672>.</span>AC, facecolor<span style=color:#f92672>=</span><span style=color:#e6db74>&#39;thistle&#39;</span>)
</span></span><span style=display:flex><span>        ax<span style=color:#f92672>.</span>fill_betweenx(df<span style=color:#f92672>.</span>DEPTH, <span style=color:#ae81ff>9</span>, df<span style=color:#f92672>.</span>ACS, facecolor<span style=color:#f92672>=</span><span style=color:#e6db74>&#39;tan&#39;</span>)
</span></span><span style=display:flex><span>        
</span></span><span style=display:flex><span>        <span style=color:#75715e>#Setup the grid, axis labels and ticks</span>
</span></span><span style=display:flex><span>        ax<span style=color:#f92672>.</span>grid(axis<span style=color:#f92672>=</span><span style=color:#e6db74>&#39;x&#39;</span>, alpha<span style=color:#f92672>=</span><span style=color:#ae81ff>0.5</span>, color<span style=color:#f92672>=</span><span style=color:#e6db74>&#39;black&#39;</span>)
</span></span><span style=display:flex><span>        ax<span style=color:#f92672>.</span>set_ylabel(<span style=color:#e6db74>&#39;DEPTH (m)&#39;</span>, fontsize<span style=color:#f92672>=</span><span style=color:#ae81ff>14</span>, fontweight<span style=color:#f92672>=</span><span style=color:#e6db74>&#39;bold&#39;</span>)
</span></span><span style=display:flex><span>        
</span></span><span style=display:flex><span>        <span style=color:#75715e>#Position vertical lines at the boundaries between the bars</span>
</span></span><span style=display:flex><span>        ax<span style=color:#f92672>.</span>set_xticks([<span style=color:#ae81ff>1</span>,<span style=color:#ae81ff>2</span>,<span style=color:#ae81ff>3</span>,<span style=color:#ae81ff>4</span>,<span style=color:#ae81ff>5</span>,<span style=color:#ae81ff>6</span>,<span style=color:#ae81ff>7</span>,<span style=color:#ae81ff>8</span>,<span style=color:#ae81ff>9</span>,<span style=color:#ae81ff>10</span>], minor<span style=color:#f92672>=</span><span style=color:#66d9ef>False</span>)
</span></span><span style=display:flex><span>        
</span></span><span style=display:flex><span>        <span style=color:#75715e>#Position the curve names in the centre of each column</span>
</span></span><span style=display:flex><span>        ax<span style=color:#f92672>.</span>set_xticks([<span style=color:#ae81ff>0.5</span>, <span style=color:#ae81ff>1.5</span> ,<span style=color:#ae81ff>2.5</span> ,<span style=color:#ae81ff>3.5</span> ,<span style=color:#ae81ff>4.5</span> ,<span style=color:#ae81ff>5.5</span> ,<span style=color:#ae81ff>6.5</span> , <span style=color:#ae81ff>7.5</span>, <span style=color:#ae81ff>8.5</span>, <span style=color:#ae81ff>9.5</span>], minor<span style=color:#f92672>=</span><span style=color:#66d9ef>True</span>)
</span></span><span style=display:flex><span>        
</span></span><span style=display:flex><span>        <span style=color:#75715e>#Setup the x-axis tick labels</span>
</span></span><span style=display:flex><span>        ax<span style=color:#f92672>.</span>set_xticklabels(labels,  rotation<span style=color:#f92672>=</span><span style=color:#e6db74>&#39;vertical&#39;</span>, minor<span style=color:#f92672>=</span><span style=color:#66d9ef>True</span>, verticalalignment<span style=color:#f92672>=</span><span style=color:#e6db74>&#39;bottom&#39;</span>)
</span></span><span style=display:flex><span>        ax<span style=color:#f92672>.</span>set_xticklabels(<span style=color:#e6db74>&#39;&#39;</span>, minor<span style=color:#f92672>=</span><span style=color:#66d9ef>False</span>)
</span></span><span style=display:flex><span>        ax<span style=color:#f92672>.</span>tick_params(axis<span style=color:#f92672>=</span><span style=color:#e6db74>&#39;x&#39;</span>, which<span style=color:#f92672>=</span><span style=color:#e6db74>&#39;minor&#39;</span>, pad<span style=color:#f92672>=-</span><span style=color:#ae81ff>10</span>)
</span></span><span style=display:flex><span>        
</span></span><span style=display:flex><span>        <span style=color:#75715e>#Assign the well name as the title to each subplot</span>
</span></span><span style=display:flex><span>        ax<span style=color:#f92672>.</span>set_title(name, fontsize<span style=color:#f92672>=</span><span style=color:#ae81ff>16</span>, fontweight<span style=color:#f92672>=</span><span style=color:#e6db74>&#39;bold&#39;</span>)
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    plt<span style=color:#f92672>.</span>tight_layout()
</span></span><span style=display:flex><span>    plt<span style=color:#f92672>.</span>subplots_adjust(hspace<span style=color:#f92672>=</span><span style=color:#ae81ff>0.15</span>, wspace<span style=color:#f92672>=</span><span style=color:#ae81ff>0.25</span>)
</span></span><span style=display:flex><span>    plt<span style=color:#f92672>.</span>show()
</span></span></code></pre></div><p>Once we run the code above, we get a matplotlib plot with 3 subplots. Each containing the data extent per well.</p><p><img src=https://cdn-images-1.medium.com/max/2880/1*vDPfATgGbpXpffJkjmXRXw.png alt></p><p>From this plot we can determine:</p><p><strong>15/9-F-1 C</strong></p><ul><li><p>Minor gaps in the gamma ray and resistivity curves. As the gaps appear at same position on both resistivity curves we can make an initial assumption that they may be related to casing shoes. Further investigation would be needed to confirm this.</p></li><li><p>Nuclear curves (DEN, NEU, PEF) and the caliper are only run over a short section, possibly indicating the zone of interest.</p></li><li><p>No acoustic curves (AC and ACS)</p></li></ul><p><strong>15/9-F-4</strong></p><ul><li><p>Contains all available curves, with the majority over a small section towards the bottom of the well.</p></li><li><p>There are multiple gaps in the gamma ray (GR) and acoustic shear (ACS) curves. Could be tool related. Further investigation would reveal the cause.</p></li></ul><p><strong>15/9-F-7</strong></p><ul><li><p>Minimal amount of data present over a short and shallow section.</p></li><li><p>Only bitsize, gamma ray and resistivity measurements presents.</p></li><li><p>Could potentially be caused by a tool failure or issues encountered whilst drilling. This information could be confirmed by reviewing the End of Well Reports, if they are available.</p></li></ul><h2 id=conclusion>Conclusion</h2><p>In this short article, I have shown you how to load in data from a CSV file and visualise it in a way that you can identify where missing values are located. Understanding where you have or do not have data is a key step in exploring your dataset prior to carrying out a petrophysical interpretation or applying a machine learning model</p><h2 id=references>References</h2><p>Data used in this example:
Equinor. (2018). Disclosing all Volve data. Available at: <a href=https://www.equinor.com/en/news/14jun2018-disclosing-volve-data.html>https://www.equinor.com/en/news/14jun2018-disclosing-volve-data.html</a></p></div></div><div id=post-footer class="post-footer main-content-wrap"><div class=post-footer-tags><span class="text-color-light text-small">TAGGED IN</span><br><a class="tag tag--primary tag--small" href=https://www.andymcdonald.scot/tags/petrophysics/>petrophysics</a>
<a class="tag tag--primary tag--small" href=https://www.andymcdonald.scot/tags/python/>python</a>
<a class="tag tag--primary tag--small" href=https://www.andymcdonald.scot/tags/matplotlib/>matplotlib</a>
<a class="tag tag--primary tag--small" href=https://www.andymcdonald.scot/tags/missing-data/>missing data</a></div><div class=post-actions-wrap><nav><ul class="post-actions post-action-nav"><li class=post-action><a class="post-action-btn btn btn--default tooltip--top" href=https://www.andymcdonald.scot/blog/2020/2020-11-01-exploratory-data-analysis-with-well-log-data/ data-tooltip="Porosity-Permeability Relationships Using Linear Regression in Python" aria-label="NEXT: Porosity-Permeability Relationships Using Linear Regression in Python"><i class="fa fa-angle-left"></i>
<span class="hide-xs hide-sm text-small icon-ml">NEXT</span></a></li><li class=post-action><a class="post-action-btn btn btn--default tooltip--top" href=https://www.andymcdonald.scot/blog/2020/2020-10-18-petrophysics-gamma-ray-normalisation-in-python/ data-tooltip="Petrophysics: Gamma Ray Normalization in Python" aria-label="PREVIOUS: Petrophysics: Gamma Ray Normalization in Python"><span class="hide-xs hide-sm text-small icon-mr">PREVIOUS</span>
<i class="fa fa-angle-right"></i></a></li></ul></nav><ul class="post-actions post-action-share"><li class="post-action hide-lg hide-md hide-sm"><a class="post-action-btn btn btn--default btn-open-shareoptions" href=#btn-open-shareoptions aria-label="Share this post"><i class="fa fa-share-alt" aria-hidden=true></i></a></li><li class="post-action hide-xs"><a class="post-action-btn btn btn--default" target=new href="https://www.facebook.com/sharer/sharer.php?u=https://www.andymcdonald.scot/blog/2020/2020-10-26-visualising-well-data-coverage-using-matplotlib/" title="Share on Facebook" aria-label="Share on Facebook"><i class="fab fa-facebook-square" aria-hidden=true></i></a></li><li class="post-action hide-xs"><a class="post-action-btn btn btn--default" target=new href="https://twitter.com/intent/tweet?text=https://www.andymcdonald.scot/blog/2020/2020-10-26-visualising-well-data-coverage-using-matplotlib/" title="Share on Twitter" aria-label="Share on Twitter"><i class="fab fa-twitter" aria-hidden=true></i></a></li><li class="post-action hide-xs"><a class="post-action-btn btn btn--default" target=new href="https://www.linkedin.com/sharing/share-offsite/?url=https://www.andymcdonald.scot/blog/2020/2020-10-26-visualising-well-data-coverage-using-matplotlib/" title="Share on Linkedin" aria-label="Share on Linkedin"><i class="fab fa-linkedin" aria-hidden=true></i></a></li><li class=post-action><a class="post-action-btn btn btn--default" href=#disqus_thread aria-label="Leave a comment"><i class="far fa-comment"></i></a></li><li class=post-action><a class="post-action-btn btn btn--default" href=#top aria-label="Back to top"><i class="fa fa-arrow-up" aria-hidden=true></i></a></li></ul></div><div id=disqus_thread><noscript>Please enable JavaScript to view the comments powered by Disqus.</noscript></div><script type=text/javascript>var disqus_config=function(){this.page.url="https://www.andymcdonald.scot/blog/2020/2020-10-26-visualising-well-data-coverage-using-matplotlib/",this.page.identifier="/blog/2020/2020-10-26-visualising-well-data-coverage-using-matplotlib/"};(function(){if(["localhost","127.0.0.1"].indexOf(window.location.hostname)!=-1){document.getElementById("disqus_thread").innerHTML="Disqus comments not available by default when the website is previewed locally.";return}var t,e=document.createElement("script");e.type="text/javascript",e.async=!0,t="hugo-tranquilpeak-theme",e.src="//"+t+".disqus.com/embed.js",(document.getElementsByTagName("head")[0]||document.getElementsByTagName("body")[0]).appendChild(e)})()</script></div></article><footer id=footer class=main-content-wrap><span class=copyrights>&copy; 2022 Andy McDonald. All Rights Reserved</span></footer></div><div id=bottom-bar class=post-bottom-bar data-behavior=2><div class=post-actions-wrap><nav><ul class="post-actions post-action-nav"><li class=post-action><a class="post-action-btn btn btn--default tooltip--top" href=https://www.andymcdonald.scot/blog/2020/2020-11-01-exploratory-data-analysis-with-well-log-data/ data-tooltip="Porosity-Permeability Relationships Using Linear Regression in Python" aria-label="NEXT: Porosity-Permeability Relationships Using Linear Regression in Python"><i class="fa fa-angle-left"></i>
<span class="hide-xs hide-sm text-small icon-ml">NEXT</span></a></li><li class=post-action><a class="post-action-btn btn btn--default tooltip--top" href=https://www.andymcdonald.scot/blog/2020/2020-10-18-petrophysics-gamma-ray-normalisation-in-python/ data-tooltip="Petrophysics: Gamma Ray Normalization in Python" aria-label="PREVIOUS: Petrophysics: Gamma Ray Normalization in Python"><span class="hide-xs hide-sm text-small icon-mr">PREVIOUS</span>
<i class="fa fa-angle-right"></i></a></li></ul></nav><ul class="post-actions post-action-share"><li class="post-action hide-lg hide-md hide-sm"><a class="post-action-btn btn btn--default btn-open-shareoptions" href=#btn-open-shareoptions aria-label="Share this post"><i class="fa fa-share-alt" aria-hidden=true></i></a></li><li class="post-action hide-xs"><a class="post-action-btn btn btn--default" target=new href="https://www.facebook.com/sharer/sharer.php?u=https://www.andymcdonald.scot/blog/2020/2020-10-26-visualising-well-data-coverage-using-matplotlib/" title="Share on Facebook" aria-label="Share on Facebook"><i class="fab fa-facebook-square" aria-hidden=true></i></a></li><li class="post-action hide-xs"><a class="post-action-btn btn btn--default" target=new href="https://twitter.com/intent/tweet?text=https://www.andymcdonald.scot/blog/2020/2020-10-26-visualising-well-data-coverage-using-matplotlib/" title="Share on Twitter" aria-label="Share on Twitter"><i class="fab fa-twitter" aria-hidden=true></i></a></li><li class="post-action hide-xs"><a class="post-action-btn btn btn--default" target=new href="https://www.linkedin.com/sharing/share-offsite/?url=https://www.andymcdonald.scot/blog/2020/2020-10-26-visualising-well-data-coverage-using-matplotlib/" title="Share on Linkedin" aria-label="Share on Linkedin"><i class="fab fa-linkedin" aria-hidden=true></i></a></li><li class=post-action><a class="post-action-btn btn btn--default" href=#disqus_thread aria-label="Leave a comment"><i class="far fa-comment"></i></a></li><li class=post-action><a class="post-action-btn btn btn--default" href=#top aria-label="Back to top"><i class="fa fa-arrow-up" aria-hidden=true></i></a></li></ul></div></div><div id=share-options-bar class=share-options-bar data-behavior=2><i id=btn-close-shareoptions class="fa fa-times"></i><ul class=share-options><li class=share-option><a class=share-option-btn target=new href="https://www.facebook.com/sharer/sharer.php?u=https%3A%2F%2Fwww.andymcdonald.scot%2Fblog%2F2020%2F2020-10-26-visualising-well-data-coverage-using-matplotlib%2F" aria-label="Share on Facebook"><i class="fab fa-facebook-square" aria-hidden=true></i><span>Share on Facebook</span></a></li><li class=share-option><a class=share-option-btn target=new href="https://twitter.com/intent/tweet?text=https%3A%2F%2Fwww.andymcdonald.scot%2Fblog%2F2020%2F2020-10-26-visualising-well-data-coverage-using-matplotlib%2F" aria-label="Share on Twitter"><i class="fab fa-twitter" aria-hidden=true></i><span>Share on Twitter</span></a></li><li class=share-option><a class=share-option-btn target=new href="https://www.linkedin.com/sharing/share-offsite/?url=https%3A%2F%2Fwww.andymcdonald.scot%2Fblog%2F2020%2F2020-10-26-visualising-well-data-coverage-using-matplotlib%2F" aria-label="Share on Linkedin"><i class="fab fa-linkedin" aria-hidden=true></i><span>Share on Linkedin</span></a></li></ul></div><div id=share-options-mask class=share-options-mask></div></div><div id=about><div id=about-card><div id=about-btn-close><i class="fa fa-times"></i></div><img id=about-card-picture src=https://www.andymcdonald.scot/images/andy2.png alt="Author's picture"><h4 id=about-card-name>Andy McDonald</h4><div id=about-card-bio>Super bio with markdown support <strong>COOL</strong></div><div id=about-card-job><i class="fa fa-briefcase"></i><br>Petrophysicist, Geoscientist, Data Scientist</div><div id=about-card-location><i class="fa fa-map-marker-alt"></i><br>Scotland</div></div></div><div id=cover style=background-image:url(https://www.andymcdonald.scot/images/massimo-botturi-zFYUsLk_50Y-unsplash.jpg)></div><script src=https://cdnjs.cloudflare.com/ajax/libs/jquery/3.6.0/jquery.min.js integrity="sha512-894YE6QWD5I59HgZOGReFYm4dnWc1Qt5NtvYSaNcOP+u1T9qYdvdihz0PPSiiqn/+/3e7Jo4EaG7TubfWGUrMQ==" crossorigin=anonymous referrerpolicy=no-referrer></script>
<script src=https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.1.0/highlight.min.js integrity="sha512-z+/WWfyD5tccCukM4VvONpEtLmbAm5LDu7eKiyMQJ9m7OfPEDL7gENyDRL3Yfe8XAuGsS2fS4xSMnl6d30kqGQ==" crossorigin=anonymous referrerpolicy=no-referrer></script>
<script src=https://cdnjs.cloudflare.com/ajax/libs/fancybox/3.5.7/jquery.fancybox.min.js integrity="sha512-uURl+ZXMBrF4AwGaWmEetzrd+J5/8NRkWAvJx5sbPSSuOb0bZLqf+tOzniObO00BjHa/dD7gub9oCGMLPQHtQA==" crossorigin=anonymous referrerpolicy=no-referrer></script>
<script src=https://www.andymcdonald.scot/js/script-yqzy9wdlzix4lbbwdnzvwx3egsne77earqmn73v9uno8aupuph8wfguccut.min.js></script>
<script async crossorigin=anonymous defer integrity="sha512-gE8KAQyFIzV1C9+GZ8TKJHZS2s+n7EjNtC+IMRn1l5+WYJTHOODUM6JSjZhFhqXmc7bG8Av6XXpckA4tYhflnw==" src=https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.1.0/languages/apache.min.js></script>
<script async crossorigin=anonymous defer integrity="sha512-EWROca+bote+7Oaaar1F6y74iZj1r1F9rm/ly7o+/FwJopbBaWtsFDmaKoZDd3QiGU2pGacBirHJNivmGLYrow==" src=https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.1.0/languages/go.min.js></script>
<script async crossorigin=anonymous defer integrity="sha512-GDVzAn0wpx1yVtQsRWmFc6PhJiLBPdUic+h4GWgljBh904O3JU10fk9EKNpVyIoPqkFn54rgL2QBG4BmUTMpiQ==" src=https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.1.0/languages/http.min.js></script>
<script async crossorigin=anonymous defer integrity="sha512-UgZlma8NzkrDb/NWgmLIcTrH7i/CSnLLDRFqCSNF5NGPpjKmzyM25qcoXGOup8+cDakKyaiTDd7N4dyH4YT+IA==" src=https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.1.0/languages/less.min.js></script>
<script async crossorigin=anonymous defer integrity="sha512-lot9koe73sfXIrUvIPM/UEhuMciN56RPyBdOyZgfO53P2lkWyyXN7J+njcxIIBRV+nVDQeiWtiXg+bLAJZDTfg==" src=https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.1.0/languages/nginx.min.js></script>
<script async crossorigin=anonymous defer integrity="sha512-Zd3e7XxHP00TD0Imr0PIfeM0fl0v95kMWuhyAS3Wn1UTSXTkz0OhtRgBAr4JlmADRgiXr4x7lpeUdqaGN8xIog==" src=https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.1.0/languages/puppet.min.js></script>
<script async crossorigin=anonymous defer integrity="sha512-qtqDO052iXMSP+5d/aE/jMtL9vIIGvONgTJziC2K/ZIB1yEGa55WVxGE9/08rSQ62EoDifS9SWVGZ7ihSLhzMA==" src=https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.1.0/languages/scss.min.js></script>
<script async crossorigin=anonymous defer integrity="sha512-1NmkjnEDnwwwcu28KoQF8vs3oaPFokQHbmbtwGhFfeDsQZtVFI8zW2aE9O8yMYdpdyKV/5blE4pSWw4Z/Sv97w==" src=https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.1.0/languages/stylus.min.js></script>
<script async crossorigin=anonymous defer integrity="sha512-B2wSfruPjr8EJL6IIzQr1eAuDwrsfIfccNf/LCEdxELCgC/S/ZMt/Uvk80aD79m7IqOqW+Sw8nbkvha20yZpzg==" src=https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.1.0/languages/swift.min.js></script>
<script async crossorigin=anonymous defer integrity="sha512-28oDiQZGKUVN6wQ7PSLPNipOcmkCALXKwOi7bnkyFf8QiMZQxG9EQoy/iiNx6Zxj2cG2SbVa4dXKigQhu7GiFw==" src=https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.1.0/languages/yaml.min.js></script>
<script>$(document).ready(function(){hljs.configure({classPrefix:'',useBR:!1}),$("pre.code-highlight > code, pre > code").each(function(t,e){$(this).hasClass("codeblock")||$(this).addClass("codeblock"),hljs.highlightBlock(e)})})</script></body></html>