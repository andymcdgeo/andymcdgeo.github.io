<!doctype html><html lang=en-uk><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=description content><meta name=author content="map[]"><script type=application/ld+json>{"@context":"http://schema.org","@type":"BlogPosting","mainEntityOfPage":{"@type":"WebPage","@id":"https:\/\/www.andymcdonald.scot\/"},"articleSection":"blog","name":"Exploring Well Log Data Using the Welly Python Library","headline":"Exploring Well Log Data Using the Welly Python Library","description":"A look into a Python library dedicated to loading, exploring and plotting well log LAS files.","inLanguage":"en-US","author":"","creator":"","publisher":"","accountablePerson":"","copyrightHolder":"","copyrightYear":"2021","datePublished":"2021-06-13 00:00:00 \u002b0000 UTC","dateModified":"2021-06-13 00:00:00 \u002b0000 UTC","url":"https:\/\/www.andymcdonald.scot\/blog\/2021\/2021-06-13-exploring-well-log-data-using-the-welly-python-library\/","wordCount":"2246","keywords":["libraries","data-quality","data-visualisation","las-files","Blog"]}</script><title>Exploring Well Log Data Using the Welly Python Library</title><link rel="shortcut icon" href=https://www.andymcdonald.scot/images/favicon-16x16.png><link href=https://netdna.bootstrapcdn.com/bootstrap/3.0.0/css/bootstrap.no-icons.min.css rel=stylesheet><script defer src=https://use.fontawesome.com/releases/v5.0.11/js/all.js integrity=sha384-ImVoB8Er8knetgQakxuBS4G3RSkyD8IZVVQCAnmRJrDwqJFYUE4YOv+DbIofcO9C crossorigin=anonymous></script><link rel=stylesheet href="https://fonts.googleapis.com/css?family=Alice|Open+Sans:400,300,700"><link rel=stylesheet href=https://www.andymcdonald.scot/assets/css/main.min.e054b10ec12a33c204b6b4be1a3af0d30c492da8e321bcf2b038c00d640009d4.css media=all><link rel=preconnect href=https://fonts.gstatic.com><link href="https://fonts.googleapis.com/css2?family=Inter:wght@100;200;400;500&display=swap" rel=stylesheet><link rel=stylesheet href=https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.13.1/css/all.min.css integrity="sha256-2XFplPlrFClt0bIdPgpz8H7ojnk10H69xRqd9+uTShA=" crossorigin=anonymous><script async src="https://www.googletagmanager.com/gtag/js?id=G-DWZLFXGHNF"></script><script>window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments)}gtag('js',new Date),gtag('config','G-DWZLFXGHNF')</script><script data-name=BMC-Widget data-cfasync=false src=https://cdnjs.buymeacoffee.com/1.0.0/widget.prod.min.js data-id=andymcdonaldgeo data-description="Support me on Buy me a coffee!" data-message="Support me on Buy Me a Coffee" data-color=#FFDD00 data-position=Right data-x_margin=18 data-y_margin=18></script></head><body class=home><header id=header><div id=head style=background-image:url(https://www.andymcdonald.scot/images/header_img.jpg),linear-gradient(rgba(0,0,0,.5),rgba(0,0,0,.5))><h1 id=logo class=text-center><img class=img-circle src=https://www.andymcdonald.scot/images/andy.png alt>
<span class=title>Andy McDonald</span>
<span class=tagline2>Petrophysicist | Geoscientist | Data Scientist</span><div class=header-underline></div><div class=social-head><a href=https://www.linkedin.com/andymcdonaldgeo target=_blank><i class="fab fa-linkedin fa-1x"></i></a>
<a href=https://www.researchgate.net/profile/Andrew-Mcdonald-15 target=_blank><i class="fab fa-researchgate fa-1x"></i></a>
<a href=https://twitter.com/geoandymcd target=_blank><i class="fab fa-twitter-square fa-1x"></i></a>
<a href=https://github.com/andymcdgeo target=_blank><i class="fab fa-github-square fa-1x"></i></a>
<a href=https://andymcdonaldgeo.medium.com target=_blank><i class="fab fa-medium fa-1x"></i></a></div></h1></div><div class=landing></div><nav class="navbar navbar-default navbar-sticky"><div class=container-fluid><div class=navbar-header><button type=button class=navbar-toggle data-toggle=collapse data-target=#bs-example-navbar-collapse-1 aria-expanded=true>
<span class=sr-only>Toggle navigation</span>
<span class=icon-bar></span><span class=icon-bar></span><span class=icon-bar></span></button></div><div class="navbar-collapse collapse" id=bs-example-navbar-collapse-1><ul class="nav navbar-nav"><li><a href=https://www.andymcdonald.scot/>Home</a></li><li><a href=https://www.andymcdonald.scot/blog/>Blog</a></li><li><a href=https://www.andymcdonald.scot/#projects>Projects</a></li><li><a href=https://www.andymcdonald.scot/publications/>Publications</a></li></ul></div></div></nav></header><main id=main><div class=container><div class="row topspace"><div class="col-sm-8 col-sm-offset-2"><article class=post><header class=entry-header><h2 class=title>Exploring Well Log Data Using the Welly Python Library</h2><div class=featured-image style=background-image:url(/images/featured/2021-06-13-Welly%20Python%20Library.jpeg)></div><div class=entry-meta><span class=posted-on><i class="far fa-calendar-alt"></i>Published on: &nbsp;June 13, 2021<i class="far fa-clock"></i> 11 min read
<span class=post-categories><i class="far fa-folder"></i><ul><li><a href=https://www.andymcdonald.scot/categories/python/>python</a></li><li><a href=https://www.andymcdonald.scot/categories/petrophysics/>petrophysics</a></li></ul></span></span></div></header><div class=row><div class=col-sm-12><div id=toc><h3>Table of Contents</h3><nav id=TableOfContents><ul><li><ul><li><a href=#the-dataset>The Dataset</a></li><li><a href=#importing-libraries-and-data>Importing Libraries and Data</a></li></ul></li><li><a href=#data-exploration>Data Exploration</a><ul><li><a href=#file-and-well-information>File and Well Information</a></li><li><a href=#exploring-the-data>Exploring the Data</a></li></ul></li><li><a href=#data-qc>Data QC</a></li><li><a href=#data-plotting>Data Plotting</a></li><li><a href=#well-log-data-to-pandas-dataframe>Well Log Data to Pandas Dataframe</a></li><li><a href=#summary>Summary</a></li></ul></nav></div></div></div><div class=entry-content><p>The welly library was developed by Agile Geoscience to help with loading, processing and analysing well log data from a single well or multiple wells. The library allows exploration of the meta data found within the headers of las files and also contains a plotting function to display a typical well log. Additionally, the welly library contains tools for identifying and handling data quality issues.</p><p>The Welly library can be found at the Agile Geoscience GitHub at <a href=https://github.com/agile-geoscience/welly>https://github.com/agile-geoscience/welly</a></p><p>In this short tutorial we will see how to load a well from the Volve field and exploring some of the functionality available within this library.</p><h3 id=the-dataset>The Dataset</h3><p>The dataset we are using comes from the publicly available Equinor Volve Field dataset released in 2018. The file used in this tutorial is from well 15/19-F1B. Details on the Volve Dataset can be found <a href=https://www.equinor.com/en/what-we-do/norwegian-continental-shelf-platforms/volve.html>here</a>.</p><p>This tutorial forms part of my Python and Petrophysics series. Links to previous articles can be found <a href=https://www.andymcdonald.scot/portfolio/proj_python_petrophysics/>here</a>.</p><p>The notebook accompanying this article can found within the GitHub Repository at: <a href=https://github.com/andymcdgeo/Petrophysics-Python-Series>https://github.com/andymcdgeo/Petrophysics-Python-Series</a></p><h3 id=importing-libraries-and-data>Importing Libraries and Data</h3><p>The first step in this tutorial will be to load in the required modules, Well and Curve, from the Welly libray. These modules are used to work with well log data and with individual curves.</p><div class=highlight><pre class=chroma><code class=language-python data-lang=python><span class=kn>from</span> <span class=nn>welly</span> <span class=kn>import</span> <span class=n>Well</span>
<span class=kn>from</span> <span class=nn>welly</span> <span class=kn>import</span> <span class=n>Curve</span>
    
<span class=kn>import</span> <span class=nn>matplotlib.pyplot</span> <span class=kn>as</span> <span class=nn>plt</span>
</code></pre></div><p>Our LAS file can be loaded in using the Well.from_las() method. This will create a new well object.</p><div class=highlight><pre class=chroma><code class=language-python data-lang=python><span class=n>well</span> <span class=o>=</span> <span class=n>Well</span><span class=o>.</span><span class=n>from_las</span><span class=p>(</span><span class=s1>&#39;Data/15_19_F1B_WLC_PETRO_COMPUTED_INPUT_1.LAS&#39;</span><span class=p>)</span>
</code></pre></div><h2 id=data-exploration>Data Exploration</h2><h3 id=file-and-well-information>File and Well Information</h3><p>Now that our data has been loaded in we can begin exploring the contents and meta data for the selected well. If we call upon our well object we will be presented with a summary table which contains the wellname, location, co-ordinates, and a list of curve mnemonics.</p><div class=highlight><pre class=chroma><code class=language-python data-lang=python><span class=n>well</span>
</code></pre></div><p><img src=https://cdn-images-1.medium.com/max/2000/1*jehBhgVvTU7IBAHoGwL3xQ.png alt></p><p>We can also call upon specific functions to access the required information.</p><p>The first is the header which will return key header information, including the well name, Unique Well Identifier (UWI), the field name and company name.</p><div class=highlight><pre class=chroma><code class=language-python data-lang=python><span class=n>well</span><span class=o>.</span><span class=n>header</span>
</code></pre></div><p>This returns:</p><pre><code>{'name': '15/9-F-1 B', 'uwi': '', 'field': 'VOLVE', 'company': 'Statoil Petroleum'}
</code></pre><p>Letâ€™s now have a look at the location information for this well. To do so we can call upon the .location method for our data object.</p><div class=highlight><pre class=chroma><code class=language-python data-lang=python><span class=n>well</span><span class=o>.</span><span class=n>location</span>
</code></pre></div><p>This returns a location object in the form of a dictionary.</p><pre><code>Location({'position': None, 'crs': CRS({}), 'location': 'Maersk Inspirer', 'country': '', 'province': '', 'county': '', 'latitude': '058 26\' 29.907&quot; N    DMS', 'longitude': '001 53\' 14.708&quot; E    DMS', 'api': '', 'td': None, 'deviation': None})
</code></pre><p>The file we are using does not contain much information about the location of the well, but we do have information about the latitude and longitude. These can be extracted by appending .latitude and .longitude to the location method and put into an easier to read format.</p><div class=highlight><pre class=chroma><code class=language-python data-lang=python><span class=n>lati</span> <span class=o>=</span> <span class=n>well</span><span class=o>.</span><span class=n>location</span><span class=o>.</span><span class=n>latitude</span>
<span class=nb>long</span> <span class=o>=</span> <span class=n>well</span><span class=o>.</span><span class=n>location</span><span class=o>.</span><span class=n>longitude</span>
    
<span class=k>print</span><span class=p>(</span><span class=n>lati</span><span class=p>)</span>
<span class=k>print</span><span class=p>(</span><span class=nb>long</span><span class=p>)</span>
</code></pre></div><p>Using the print function for these methods provides a nicer output to read.</p><pre><code>058 26' 29.907&quot; N    DMS
001 53' 14.708&quot; E    DMS
</code></pre><h3 id=exploring-the-data>Exploring the Data</h3><p>We saw in the previous section when looking at the well header that we had a number of curves. We can get an idea of how many by calling up on the count_curves() function.</p><div class=highlight><pre class=chroma><code class=language-python data-lang=python><span class=n>well</span><span class=o>.</span><span class=n>count_curves</span><span class=p>()</span>
</code></pre></div><p>This returns a total count of 22 curves.</p><p>We can also obtain a list of the curve menmonics within the las file using the method _get_curve_menmonics().</p><div class=highlight><pre class=chroma><code class=language-python data-lang=python><span class=n>well</span><span class=o>.</span><span class=n>_get_curve_mnemonics</span><span class=p>()</span>
</code></pre></div><p>This returns a list of all mnemonics within the las file.</p><pre><code>['ABDCQF01',
 'ABDCQF02',
 'ABDCQF03',
 'ABDCQF04',
 'BS',
 'CALI',
 'DRHO',
 'DT',
 'DTS',
 'GR',
 'NBGRCFM',
 'NPHI',
 'PEF',
 'RACEHM',
 'RACELM',
 'RD',
 'RHOB',
 'RM',
 'ROP',
 'RPCEHM',
 'RPCELM',
 'RT']
</code></pre><p>Another way to view all of the curves is by calling upon .data. This returns a dictionary object containing the well name, along with the first 3 and the last 3 values for that curve.</p><div class=highlight><pre class=chroma><code class=language-python data-lang=python><span class=n>well</span><span class=o>.</span><span class=n>data</span>
</code></pre></div><p>As seen in the example below, many of the first and last values are listed as nan, which stands for Not a Number.</p><pre><code>{'ABDCQF01': Curve([nan, nan, nan, ..., nan, nan, nan]),
 'ABDCQF02': Curve([nan, nan, nan, ..., nan, nan, nan]),
 'ABDCQF03': Curve([nan, nan, nan, ..., nan, nan, nan]),
 'ABDCQF04': Curve([nan, nan, nan, ..., nan, nan, nan]),
 'BS': Curve([36. , 36. , 36. , ...,  8.5,  8.5,  8.5]),
 'CALI': Curve([nan, nan, nan, ..., nan, nan, nan]),
 'DRHO': Curve([nan, nan, nan, ..., nan, nan, nan]),
 'DT': Curve([nan, nan, nan, ..., nan, nan, nan]),
 'DTS': Curve([nan, nan, nan, ..., nan, nan, nan]),
 'GR': Curve([nan, nan, nan, ..., nan, nan, nan]),
 'NBGRCFM': Curve([nan, nan, nan, ..., nan, nan, nan]),
 'NPHI': Curve([nan, nan, nan, ..., nan, nan, nan]),
 'PEF': Curve([nan, nan, nan, ..., nan, nan, nan]),
 'RACEHM': Curve([nan, nan, nan, ..., nan, nan, nan]),
 'RACELM': Curve([nan, nan, nan, ..., nan, nan, nan]),
 'RD': Curve([nan, nan, nan, ..., nan, nan, nan]),
 'RHOB': Curve([nan, nan, nan, ..., nan, nan, nan]),
 'RM': Curve([nan, nan, nan, ..., nan, nan, nan]),
 'ROP': Curve([    nan,     nan,     nan, ..., 29.9699, 29.9903,     nan]),
 'RPCEHM': Curve([nan, nan, nan, ..., nan, nan, nan]),
 'RPCELM': Curve([nan, nan, nan, ..., nan, nan, nan]),
 'RT': Curve([nan, nan, nan, ..., nan, nan, nan])}
</code></pre><p>We can delve a little deeper into each of the curves within the las file by passing in the name of the curve like so:</p><div class=highlight><pre class=chroma><code class=language-python data-lang=python>    <span class=n>well</span><span class=o>.</span><span class=n>data</span><span class=p>[</span><span class=s1>&#39;GR&#39;</span><span class=p>]</span>
</code></pre></div><p><img src=https://cdn-images-1.medium.com/max/2000/1*sl9UCSBOoiXBa-02Hqt_Ew.png alt></p><p>This provides us with some summary statistics of the curve, such as:</p><ul><li><p>what the null value is</p></li><li><p>the curve units</p></li><li><p>the curve data range</p></li><li><p>the step value of the data</p></li><li><p>the total number of samples</p></li><li><p>the total number of missing values (NaNs)</p></li><li><p>Min, Max and Mean of the curve</p></li><li><p>Curve description</p></li><li><p>A list of the first 3 and last 3 values</p></li></ul><h2 id=data-qc>Data QC</h2><p>Checking the quality of well log data is an important part of the petrophysics workflow.</p><p>The borehole environment can be a hostile place with high temperatures, high pressures, irregular borehole shapes etc all of which can have an impact on the logging measurements. This can result in numerous issues such as missing values, outliers, constant values and erroneous values.</p><p>The welly library comes with a number of quality control checks which will allow us to check all of the data or specific curves for issues.</p><p>The quality control checks include:</p><ul><li><p>Checking for gaps / missing values : .no_nans(curve)</p></li><li><p>Checking if the entire curve is empty or not : .not_empty(curve)</p></li><li><p>Checking if the curve contains constant values : .no_flat(curve)</p></li><li><p>Checking units: check_units(list_of_units)</p></li><li><p>Checking if values are all positive : all_positive(curve)</p></li><li><p>Checking if curve is within a range : all_between(min_value, max_value)</p></li></ul><p>The full list of methods can be found within the Welly help documents at: <a href=https://welly.readthedocs.io>https://welly.readthedocs.io</a></p><p>Before we start we will need to import the quality module like so:</p><div class=highlight><pre class=chroma><code class=language-python data-lang=python>    <span class=kn>import</span> <span class=nn>welly.quality</span> <span class=kn>as</span> <span class=nn>wq</span>
</code></pre></div><p>Before we run any quality checks we first need to create a list of what tests we want to run and on what data we want to run those tests.</p><p>To do this we can build up a dictionary, with the key being the curve(s) we want to run the checks on. If want to run it on all of the curves we need to use the key Each.</p><p>For every curve we will check if there are any flatline values, any gaps and making sure the curve is not empty. For the gamma ray (GR) and bulk density (RHOB) curves we are going to check that all of the values are positive, that they are between standard ranges and that the units are what we expect them to be.</p><div class=highlight><pre class=chroma><code class=language-python data-lang=python>    <span class=n>tests</span> <span class=o>=</span> <span class=p>{</span><span class=s1>&#39;Each&#39;</span><span class=p>:</span> <span class=p>[</span><span class=n>wq</span><span class=o>.</span><span class=n>no_flat</span><span class=p>,</span>
                     <span class=n>wq</span><span class=o>.</span><span class=n>no_gaps</span><span class=p>,</span>
                     <span class=n>wq</span><span class=o>.</span><span class=n>not_empty</span><span class=p>],</span>
            <span class=s1>&#39;GR&#39;</span><span class=p>:</span> <span class=p>[</span>
                    <span class=n>wq</span><span class=o>.</span><span class=n>all_positive</span><span class=p>,</span>
                    <span class=n>wq</span><span class=o>.</span><span class=n>all_between</span><span class=p>(</span><span class=mi>0</span><span class=p>,</span> <span class=mi>250</span><span class=p>),</span>
                    <span class=n>wq</span><span class=o>.</span><span class=n>check_units</span><span class=p>([</span><span class=s1>&#39;API&#39;</span><span class=p>,</span> <span class=s1>&#39;GAPI&#39;</span><span class=p>]),</span>
            <span class=p>],</span>
            <span class=s1>&#39;RHOB&#39;</span><span class=p>:</span> <span class=p>[</span>
                    <span class=n>wq</span><span class=o>.</span><span class=n>all_positive</span><span class=p>,</span>
                    <span class=n>wq</span><span class=o>.</span><span class=n>all_between</span><span class=p>(</span><span class=mf>1.5</span><span class=p>,</span> <span class=mi>3</span><span class=p>),</span>
                    <span class=n>wq</span><span class=o>.</span><span class=n>check_units</span><span class=p>([</span><span class=s1>&#39;G/CC&#39;</span><span class=p>,</span> <span class=s1>&#39;g/cm3&#39;</span><span class=p>]),</span>
            <span class=p>]}</span>
</code></pre></div><p>We could run the tests as they are, however, the output is not easy to read. To make easier and nicer, we will using the HTML function from IPython.display to make a pretty table.</p><p>Once the module is imported we can create a variable called data_qc_table to store the information in. Assigned to this variable will be data.qc_table_html(tests) which generates the table from the tests dictionary we created above.</p><div class=highlight><pre class=chroma><code class=language-python data-lang=python>    <span class=kn>from</span> <span class=nn>IPython.display</span> <span class=kn>import</span> <span class=n>HTML</span>
    <span class=n>data_qc_table</span> <span class=o>=</span> <span class=n>well</span><span class=o>.</span><span class=n>qc_table_html</span><span class=p>(</span><span class=n>tests</span><span class=p>)</span>
    <span class=n>HTML</span><span class=p>(</span><span class=n>data_qc_table</span><span class=p>)</span>
</code></pre></div><p><img src=https://cdn-images-1.medium.com/max/2000/1*D1Ua1KrDXjvB297QGpPwRg.png alt></p><p>After running the tests we can see that we have a coloured HTML table returned. Anything highlighted in green is True and anything in red is False.</p><p>From the table we can see that the BS (BitSize) curve failed on one of the three tests. Under the no_flat column we have a False value flagged which suggests that this curve contains constant/flat values. This has been correctly flagged as the bitsize curve measures the drill bit diameter, which will be constant for a given run or series of runs.</p><p>We can also see that a number of curves have been flagged as containing gaps.</p><p>The tests that were run just for GR and RHOB can also be seen in the table. When we run specific tests on specific curves, the remainder of the the results will be greyed out.</p><p>We can run another test to identify the fraction of the data that is not nan. For this we setup a new test and apply to all curves using Each.</p><div class=highlight><pre class=chroma><code class=language-python data-lang=python>    <span class=n>tests_nans</span> <span class=o>=</span> <span class=p>{</span><span class=s1>&#39;Each&#39;</span><span class=p>:</span> <span class=p>[</span><span class=n>wq</span><span class=o>.</span><span class=n>fraction_not_nans</span><span class=p>]}</span>
    
    <span class=n>data_nans_qc_table</span> <span class=o>=</span> <span class=n>well</span><span class=o>.</span><span class=n>qc_table_html</span><span class=p>(</span><span class=n>tests_nans</span><span class=p>)</span>
    <span class=n>HTML</span><span class=p>(</span><span class=n>data_nans_qc_table</span><span class=p>)</span>
</code></pre></div><p><img src=https://cdn-images-1.medium.com/max/2000/1*Dgzt1VWzHLHQ8fFUzIEu6A.png alt></p><p>Once we run these tests we are presented with a table similar to the one above. In the last column we have the total fraction of values for each curve this is not a nan. These values are in decimal, with a value of 1.0 representing 100% completeness. The Score column contains a rounded version of this number.</p><p>We can write a short loop and print the percentage values out for each curve. This provides a cleaner table to get an idea of missing data percentage for each curve.</p><div class=highlight><pre class=chroma><code class=language-python data-lang=python>    <span class=k>print</span><span class=p>((</span><span class=n>f</span><span class=s1>&#39;Curve </span><span class=se>\t</span><span class=s1> % Complete&#39;</span><span class=p>)</span><span class=o>.</span><span class=n>expandtabs</span><span class=p>(</span><span class=mi>10</span><span class=p>))</span>
    <span class=k>print</span><span class=p>((</span><span class=n>f</span><span class=s1>&#39;----- </span><span class=se>\t</span><span class=s1> ----------&#39;</span><span class=p>)</span><span class=o>.</span><span class=n>expandtabs</span><span class=p>(</span><span class=mi>10</span><span class=p>))</span>
    
    <span class=k>for</span> <span class=n>k</span><span class=p>,</span><span class=n>v</span> <span class=ow>in</span> <span class=n>well</span><span class=o>.</span><span class=n>qc_data</span><span class=p>(</span><span class=n>tests_nans</span><span class=p>)</span><span class=o>.</span><span class=n>items</span><span class=p>():</span>
        
        <span class=k>for</span> <span class=n>i</span><span class=p>,</span><span class=n>j</span> <span class=ow>in</span> <span class=n>v</span><span class=o>.</span><span class=n>items</span><span class=p>():</span>
            <span class=n>values</span> <span class=o>=</span> <span class=nb>round</span><span class=p>(</span><span class=n>j</span><span class=o>*</span><span class=mi>100</span><span class=p>,</span> <span class=mi>2</span><span class=p>)</span>
        <span class=k>print</span><span class=p>((</span><span class=n>f</span><span class=s1>&#39;{k} </span><span class=se>\t</span><span class=s1> {values}%&#39;</span><span class=p>)</span><span class=o>.</span><span class=n>expandtabs</span><span class=p>(</span><span class=mi>10</span><span class=p>))</span>
</code></pre></div><p>This returns a nice</p><pre><code>Curve      % Complete
-----      ----------
ABDCQF01   9.72%
ABDCQF02   9.72%
ABDCQF03   9.72%
ABDCQF04   9.72%
BS         100.0%
CALI       10.6%
DRHO       10.62%
DT         12.84%
DTS        11.48%
GR         97.91%
NBGRCFM    39.73%
NPHI       10.28%
PEF        10.37%
RACEHM     25.72%
RACELM     25.72%
RD         96.14%
RHOB       10.37%
RM         96.14%
ROP        97.57%
RPCEHM     25.72%
RPCELM     25.72%
RT         25.72%
</code></pre><p>From the results we can see that a number of curves have a high percentage of missing values. This could be attributable to some of the measurements not starting until deeper in the well. We will be able to determine this in the next section with plots.</p><h2 id=data-plotting>Data Plotting</h2><p>Visualising well log data is at the heart of petrophysics, with log plots being one of the most common display formats. The welly library allows fast and easy generation of well log plots.</p><p>First we generate a list of data that we want to display in each track. If we want to display more than one curve in a track we can embed another list e.g. [&lsquo;MD&rsquo;, [&lsquo;DT&rsquo;, &lsquo;DTS&rsquo;]]. The curves within the inner list will be plotted on the same track and on the same scale.</p><p>Next, we can call upon the plot function and pass in the tracks list.</p><div class=highlight><pre class=chroma><code class=language-python data-lang=python>    <span class=n>tracks</span> <span class=o>=</span> <span class=p>[</span><span class=s1>&#39;MD&#39;</span><span class=p>,</span> <span class=s1>&#39;GR&#39;</span><span class=p>,</span> <span class=s1>&#39;RHOB&#39;</span><span class=p>,</span> <span class=s1>&#39;NPHI&#39;</span><span class=p>,</span> <span class=p>[</span><span class=s1>&#39;DT&#39;</span><span class=p>,</span> <span class=s1>&#39;DTS&#39;</span><span class=p>]]</span>
    <span class=n>well</span><span class=o>.</span><span class=n>plot</span><span class=p>(</span><span class=n>tracks</span><span class=o>=</span><span class=n>tracks</span><span class=p>)</span>
</code></pre></div><p><img src=https://cdn-images-1.medium.com/max/NaN/1*9maTfkKJiPqO5_lymK-DSA.png alt></p><p>As discussed in the data quality section, our assumption that some of the logging curves do not extend all the way to the top of the well. This is very common practice and avoids the need for and the cost of running tools from the top of the well to the bottom.</p><p>Letâ€™s zoom in a little bit closer on the lower interval. To do this we can use a regular matplotlib function to set the y-axis limits. Note that we do need to reverse the numbers so that the deeper value is first, and the shallower one second.</p><div class=highlight><pre class=chroma><code class=language-python data-lang=python>    <span class=n>tracks</span> <span class=o>=</span> <span class=p>[</span><span class=s1>&#39;MD&#39;</span><span class=p>,</span> <span class=s1>&#39;BS&#39;</span><span class=p>,</span> <span class=s1>&#39;CALI&#39;</span><span class=p>,</span> <span class=s1>&#39;GR&#39;</span><span class=p>,</span> <span class=s1>&#39;RHOB&#39;</span><span class=p>,</span> <span class=s1>&#39;NPHI&#39;</span><span class=p>,</span> <span class=p>[</span><span class=s1>&#39;DT&#39;</span><span class=p>,</span> <span class=s1>&#39;DTS&#39;</span><span class=p>]]</span>
    <span class=n>well</span><span class=o>.</span><span class=n>plot</span><span class=p>(</span><span class=n>tracks</span><span class=o>=</span><span class=n>tracks</span><span class=p>)</span>
    <span class=n>plt</span><span class=o>.</span><span class=n>ylim</span><span class=p>(</span><span class=mi>3500</span><span class=p>,</span> <span class=mi>3000</span><span class=p>)</span>

    <span class=p>(</span><span class=mf>3500.0</span><span class=p>,</span> <span class=mf>3000.0</span><span class=p>)</span>
</code></pre></div><p><img src=https://cdn-images-1.medium.com/max/NaN/1*lIF-lnc_S9L8rS2wU35jcA.png alt></p><p>We can see from the result that we now have a nice looking plot with very little effort.</p><p>However, the control over the plot appearance is limited with the current implementation not allowing granular control over the plot such as colours, scales and displaying curves with reversed scales (e.g. Neutron & Density curves).</p><h2 id=well-log-data-to-pandas-dataframe>Well Log Data to Pandas Dataframe</h2><p>In this final section, we will look at exporting the well log data from welly to pandas. Pandas is one of the most popular libraries for storing, analysing and manipulating data.</p><p>The conversion is a simple process and can be achieved by calling .df() on our well object.</p><div class=highlight><pre class=chroma><code class=language-python data-lang=python>    <span class=n>df</span> <span class=o>=</span> <span class=n>well</span><span class=o>.</span><span class=n>df</span><span class=p>()</span>
</code></pre></div><p>We can confirm the data has been converted by calling upon the .describe() method from pandas to view the summary statistics of the data.</p><div class=highlight><pre class=chroma><code class=language-python data-lang=python>    <span class=n>df</span><span class=o>.</span><span class=n>describe</span><span class=p>()</span>
</code></pre></div><p><img src=https://cdn-images-1.medium.com/max/NaN/1*XVQ0DS4IZfPv26yV66Q2EA.png alt></p><h2 id=summary>Summary</h2><p>The welly library, developed by Agile-Geoscience is a great tool for working with and exploring well log files. In this example we have seen how to load a single las file, explore the meta information about the well and the curve contents, and display the log data on a log plot.</p><p>Welly has significant more functionality that can handle multiple well logs as well as creating synthetic siesmiograms from the well data.</p><p>You can find and explore the welly repository <a href=https://github.com/agile-geoscience/welly>here</a>.</p><p><em><strong>Thanks for reading!</strong></em></p><p><em>If you have found this article useful, please feel free to check out my other articles looking at various aspects of Python and well log data. You can also find my code used in this article and others at <a href=https://github.com/andymcdgeo>GitHub</a>.</em></p><p><em>If you want to get in touch you can find me on <a href=https://www.linkedin.com/in/andymcdonaldgeo/>LinkedIn</a></em></p><p><em>Interested in learning more about python and well log data or petrophysics? Follow me on <a href=https://medium.com/@andymcdonaldgeo>Medium</a>.</em></p><p>If you have enjoyed this article or any others and want to show your appreciate you are welcome to <a href=https://www.buymeacoffee.com/andymcdonaldgeo>Buy Me a Coffee</a></p></div></article></div></div><div class=row><div class="col-sm-8 col-sm-offset-2"><div id=share><style>#share-buttons{display:inline-block;vertical-align:middle}#share-buttons:after{content:"";display:block;clear:both}#share-buttons>div{position:relative;text-align:left;height:36px;width:32px;float:left;text-align:center}#share-buttons>div>svg{height:16px;fill:#d5d5d5;margin-top:10px}#share-buttons>div:hover{cursor:pointer}#share-buttons>div.facebook:hover>svg{fill:#3b5998}#share-buttons>div.twitter:hover>svg{fill:#55acee}#share-buttons>div.linkedin:hover>svg{fill:#0077b5}#share-buttons>div.pinterest:hover>svg{fill:#cb2027}#share-buttons>div.gplus:hover>svg{fill:#dd4b39}#share-buttons>div.mail:hover>svg{fill:#7d7d7d}#share-buttons>div.instagram:hover>svg{fill:#c73b92}#share-buttons>div.facebook>svg{height:18px;margin-top:9px}#share-buttons>div.twitter>svg{height:20px;margin-top:8px}#share-buttons>div.linkedin>svg{height:19px;margin-top:7px}#share-buttons>div.pinterest>svg{height:20px;margin-top:9px}#share-buttons>div.gplus>svg{height:17px;margin-top:9px;position:relative;left:1px}#share-buttons>div.mail>svg{height:14px;margin-top:11px}</style><span style=color:silver>Share on:</span><div id=share-buttons><div class=facebook title="Share this on Facebook" onclick="window.open('http://www.facebook.com/share.php?u=https://www.andymcdonald.scot/blog/2021/2021-06-13-exploring-well-log-data-using-the-welly-python-library/')"><svg viewBox="0 0 1792 1792" xmlns="http://www.w3.org/2000/svg"><path d="M1343 12v264h-157q-86 0-116 36t-30 108v189h293l-39 296h-254v759H734V905H479V609h255V391q0-186 104-288.5T1115 0q147 0 228 12z"/></svg></div><div class=twitter title="Share this on Twitter" onclick="window.open('http://twitter.com/home?status=https://www.andymcdonald.scot/blog/2021/2021-06-13-exploring-well-log-data-using-the-welly-python-library/')"><svg viewBox="0 0 1792 1792" xmlns="http://www.w3.org/2000/svg"><path d="M1684 408q-67 98-162 167 1 14 1 42 0 130-38 259.5T1369.5 1125 1185 1335.5t-258 146-323 54.5q-271 0-496-145 35 4 78 4 225 0 401-138-105-2-188-64.5T285 1033q33 5 61 5 43 0 85-11-112-23-185.5-111.5T172 710v-4q68 38 146 41-66-44-105-115t-39-154q0-88 44-163 121 149 294.5 238.5T884 653q-8-38-8-74 0-134 94.5-228.5T1199 256q140 0 236 102 109-21 205-78-37 115-142 178 93-10 186-50z"/></svg></div><div class=linkedin title="Share this on Linkedin" onclick="window.open('https://www.linkedin.com/shareArticle?mini=true&url=https://www.andymcdonald.scot/blog/2021/2021-06-13-exploring-well-log-data-using-the-welly-python-library/&title=&summary=&source=')"><svg viewBox="0 0 1792 1792" xmlns="http://www.w3.org/2000/svg"><path d="M477 625v991H147V625h330zm21-306q1 73-50.5 122T312 490h-2q-82 0-132-49t-50-122q0-74 51.5-122.5T314 148t133 48.5T498 319zm1166 729v568h-329v-530q0-105-40.5-164.5T1168 862q-63 0-105.5 34.5T999 982q-11 30-11 81v553H659q2-399 2-647t-1-296l-1-48h329v144h-2q20-32 41-56t56.5-52 87-43.5T1285 602q171 0 275 113.5t104 332.5z"/></svg></div><div class=gplus title="Share this on Google Plus" onclick="window.open('https://plus.google.com/share?url=https://www.andymcdonald.scot/blog/2021/2021-06-13-exploring-well-log-data-using-the-welly-python-library/')"><svg viewBox="0 0 2304 1792" xmlns="http://www.w3.org/2000/svg"><path d="M1437 913q0 208-87 370.5t-248 254-369 91.5q-149 0-285-58t-234-156-156-234T0 896t58-285 156-234 234-156 285-58q286 0 491 192l-199 191Q908 433 733 433q-123 0-227.5 62T340 663.5 279 896t61 232.5T505.5 1297t227.5 62q83 0 152.5-23t114.5-57.5 78.5-78.5 49-83 21.5-74H733V791h692q12 63 12 122zm867-122v210h-209v209h-210v-209h-209V791h209V582h210v209h209z"/></svg></div><div class=mail title="Share this through Email" onclick="window.open('mailto:?&body=https://www.andymcdonald.scot/blog/2021/2021-06-13-exploring-well-log-data-using-the-welly-python-library/')"><svg viewBox="0 0 1792 1792" xmlns="http://www.w3.org/2000/svg"><path d="M1792 710v794q0 66-47 113t-113 47H160q-66 0-113-47T0 1504V710q44 49 101 87 362 246 497 345 57 42 92.5 65.5t94.5 48 110 24.5h2q51 0 110-24.5t94.5-48 92.5-65.5q170-123 498-345 57-39 1e2-87zm0-294q0 79-49 151t-122 123q-376 261-468 325-10 7-42.5 30.5t-54 38-52 32.5-57.5 27-50 9h-2q-23 0-50-9t-57.5-27-52-32.5-54-38T639 1015q-91-64-262-182.5T172 690q-62-42-117-115.5T0 438q0-78 41.5-130T160 256h1472q65 0 112.5 47t47.5 113z"/></svg></div></div></div></div></div><div class=clearfix></div><div class=row><div class="col-sm-8 col-sm-offset-2"><div id=comments><div id=disqus_thread></div><script>(function(){var a=document,b=a.createElement('script');b.src='https:///embed.js',b.setAttribute('data-timestamp',+new Date),(a.head||a.body).appendChild(b)})()</script><noscript>Please enable JavaScript to view the <a href=https://disqus.com/?ref_noscript>comments powered by Disqus.</a></noscript></div></div></div><div class=clearfix></div></div></main><footer id=underfooter><div class=container><div class=row><div class=social-footer><div class=col-md-12><p class=text-center><a href=https://www.linkedin.com/andymcdonaldgeo target=_blank><i class="fab fa-linkedin fa-1x"></i></a>
<a href=https://www.researchgate.net/profile/Andrew-Mcdonald-15 target=_blank><i class="fab fa-researchgate fa-1x"></i></a>
<a href=https://twitter.com/geoandymcd target=_blank><i class="fab fa-twitter-square fa-1x"></i></a>
<a href=https://github.com/andymcdgeo target=_blank><i class="fab fa-github-square fa-1x"></i></a>
<a href=https://andymcdonaldgeo.medium.com target=_blank><i class="fab fa-medium fa-1x"></i></a></p></div></div></div><div class=row><div class=col-md-12><div class=widget-body><p class=text-center>Copyright &copy; 2021, Andy McDonald<br>Powered by: <a href=https://gohugo.io/ rel=poweredby>Hugo</a></p></div></div></div></div></footer><script src=https://code.jquery.com/jquery-1.12.4.min.js></script><script src=https://netdna.bootstrapcdn.com/bootstrap/3.0.0/js/bootstrap.min.js></script><script src=https://cdnjs.cloudflare.com/ajax/libs/waypoints/4.0.0/jquery.waypoints.min.js></script><script src=https://www.andymcdonald.scot/js/bundle.min.00e4b79049366199ff1b6ac7cbd8302877370d1bf4ff0db6be4c4190e2e43f9143709df60bd35ed5c6f6495ad18afc509d468b7be1665c90f32b62afa4c7114c.js></script><script async src="https://www.googletagmanager.com/gtag/js?id=G-DWZLFXGHNF"></script><script>window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments)}gtag('js',new Date),gtag('config','G-DWZLFXGHNF')</script></body></html></body></html>